---
import NavBar from "../components/NavBar.astro";
import Carousel from "../components/Carousel.astro";
import Footer from "../components/Footer.astro";
import Layout from "../layouts/Layout.astro";
import WinnerParent from "../components/WinnerParent";  // Import WinnerParent instead of Winner
import CarouselParent from "../components/CarouselParent.jsx";
---

<Layout title="VeeHac">
  <NavBar backgroundColor="#433f6c" />

  <!-- Header Section -->
  <header class="header">
    <h1>Hackathon Winning Projects</h1>
    <p class="title-desc">
      A compilation of all the wonderful winning projects
    </p>
  </header>

  <!-- Trophy Section -->
  <section class="trophy-section">
    <div class="trophy-icon">üèÜ</div>
  </section>

  <!-- Winner and Runner-up Sections -->
  <WinnerParent client:load />  {/* Render the parent component which fetches and passes data to Winner */}

  <!-- Consolation Prizes Section -->
  <section class="consolation-prizes">
    <h2>Consolation Prizes</h2>
  </section>

  <!-- Carousel Section -->
  <div class="carousel-wrapper"><CarouselParent client:load /></div>

  <Footer />
</Layout>


<!-- <script>
  document.querySelectorAll('.card-button').forEach(button => {
    button.addEventListener('click', function() {
      // Retrieve the relevant data for the clicked winner/runner-up
      const winnerSection = button.closest('.winner') || button.closest('.runner-up');
      const name = winnerSection.querySelector('h2').textContent;
      const description = winnerSection.querySelector('p').textContent;

      // You can change this to match the specific media source or YouTube link for each winner
      const youtubeUrl = `https://www.youtube.com/watch?v=p7y_5xhtX38&t=1057s`; // Replace with actual YouTube link or other media URL

      // Populate the modal2 with the winner's details
      document.getElementById('modal2-name').textContent = name;
      document.getElementById('modal2-description').textContent = description;
      document.getElementById('modal2-video').src = youtubeUrl; // Set the video iframe source

      // Show the modal2
      document.getElementById('modal2').style.display = 'flex'; // Make the modal2 visible
      document.getElementById('overlay').style.display = 'block'; // Show overlay
    });
  });

  // close2 the modal2 when the close2 button is clicked
  document.getElementById('close2').addEventListener('click', () => {
    const modal2 = document.getElementById('modal2');
    const modalVideo = document.getElementById('modal2-video');

    modal2.style.display = 'none'; // Hide modal2
    modalVideo.src = ''; // Clear the iframe src to stop playback
    document.getElementById('overlay').style.display = 'none'; // Hide overlay
});

  // close2 the modal2 if clicked outside the modal2 content
  window.addEventListener('click', (event) => {
    const modal2 = document.getElementById('modal2');
    const modalVideo = document.getElementById('modal2-video');

    if (event.target === modal2) {
        modal2.style.display = 'none'; // Hide modal2
        modalVideo.src = ''; // Clear the iframe src to stop playback
        document.getElementById('overlay').style.display = 'none'; // Hide overlay

    }
});
</script> -->